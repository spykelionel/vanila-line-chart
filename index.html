<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dynamic Temperature SVG</title>
    <style>
      /* CSS for the container with temperature values */
      .temperature-container {
        width: 90vw; /* Fixed width */
        overflow-x: auto; /* Enable horizontal scrolling */
        white-space: nowrap; /* Keep temperature values in a single line */
        margin: 20px auto; /* Center align and add some margin */
      }

      /* CSS for temperature value items */
      .temperature-item {
        display: inline-block; /* Display items inline */
        padding: 8px; /* Padding for each item */
        margin-right: 5px; /* Margin between items */
        background-color: #f0f0f0; /* Light background color */
        border: 1px solid #ccc; /* Border */
        border-radius: 4px; /* Rounded corners */
      }

      /* CSS for SVG path */
      #temperaturePath {
        stroke: blue; /* Line color */
        stroke-width: 2; /* Line width */
        fill: none; /* No fill */
      }
    </style>
  </head>
  <body>
    <div class="temperature-container">
      <!-- Temperature values will be dynamically added here -->
    </div>

    <svg
      id="temperatureChart"
      width="90vw"
      height="200"
      xmlns="http://www.w3.org/2000/svg"
    >
      <!-- Path for displaying dynamic temperature curve -->
      <path id="temperaturePath" stroke="blue" stroke-width="2" fill="none" />
    </svg>

    <script>
      // Sample temperature data (you can replace this with your dynamic data)
      const temperatures = [20, 25, 30, 35, 28, 22, 18, 15, 20, 25];
      const unit = "°C"; // Temperature unit

      // Function to generate smooth cubic Bézier curve SVG path data based on temperatures
      function generateTemperaturePath(temps) {
        // Ensure at least two points to draw a curve
        if (temps.length < 2) return "";

        // Move to the first point
        let pathData = `M 10,${200 - temps[0] * 3}`;

        // Generate cubic Bézier curve segments
        for (let i = 1; i < temps.length - 1; i++) {
          const x1 = i * 40 + 10; // X position for current point
          const y1 = 200 - temps[i] * 3; // Y position for current point
          const x2 = (i + 1) * 40 + 10; // X position for next point
          const y2 = 200 - temps[i + 1] * 3; // Y position for next point
          const cx1 = (x1 + x2) / 2; // X position for control point 1
          const cy1 = y1; // Y position for control point 1
          const cx2 = (x1 + x2) / 2; // X position for control point 2
          const cy2 = y2; // Y position for control point 2

          pathData += ` C ${cx1},${cy1} ${cx2},${cy2} ${x2},${y2}`; // Cubic Bézier curve segment
        }

        return pathData;
      }

      // Update temperature path
      function updateTemperaturePath() {
        const pathData = generateTemperaturePath(temperatures);
        document.getElementById("temperaturePath").setAttribute("d", pathData);
      }

      // Function to update temperature values in the container
      function updateTemperatureContainer() {
        const container = document.querySelector(".temperature-container");
        container.innerHTML = ""; // Clear previous content

        temperatures.forEach((temp, index) => {
          const tempElement = document.createElement("div");
          tempElement.classList.add("temperature-item");
          tempElement.textContent = `${temp} ${unit}`;
          container.appendChild(tempElement);
        });
      }

      // Initial update
      updateTemperaturePath();
      updateTemperatureContainer();

      // Simulate dynamic temperature changes (for demo purposes)
      setInterval(() => {
        temperatures.push(Math.floor(Math.random() * 20) + 15); // Random temperature update
        // temperatures.shift(); // Remove the first element to simulate scrolling
        updateTemperaturePath();
        updateTemperatureContainer();
      }, 2000); // Update every 2 seconds (adjust as needed)
    </script>
  </body>
</html>
